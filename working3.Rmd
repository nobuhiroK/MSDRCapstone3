---
title: "Untitled"
author: "Nobuhiro Kikuchi"
date: "2018年3月6日"
output: html_document
---

```{r}
library(MSDRCapstone3)
```

```{r}
quakes <- eq_location_clean()
```
```{r}
library(testthat)
library(ggplot2)
```



```{r}
test_that("The layer is a GeomTimeline", {
  g <- ggplot2::ggplot(quakes, aes(x = DATE,
                     y = COUNTRY,
                     colour = as.numeric(TOTAL_DEATHS),
                     size = as.numeric(EQ_PRIMARY)))
  g <- g + geom_timeline()
  expect_is(g$layers[[1]]$geom, "GeomTimeline")
})
```

```{r}
g <- ggplot2::ggplot(quakes, aes(x = DATE,
                     y = COUNTRY,
                     colour = as.numeric(TOTAL_DEATHS),
                     size = as.numeric(EQ_PRIMARY)))
  g + geom_timeline()
```

```{r}
label <- eq_create_label(quakes)
head(label)
```

